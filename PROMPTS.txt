Make CLAUDE.md where the only thing is: save all prompts written by me to PROMPTS.txt, as is
Check that it works; i.e. PROMPTS.txt should include this line
c1df2923: Modify CLAUDE.md directive to save prompts to PROMPTS.txt so that every prompt should be preceded by short commit hash of the current working tree (8 characters, like 'c1df2923')
c1df2923: commit
27d8a41a: This is a basic JS project, index.html and main.js. Meta tags only enough to make it work on mobile too. We have a canvas, rectangular, and 2d context. Coordinates range from -100 to 100 both x and y. global function ball(x, y, radius) draws a circle, black outline on white backround, you can pick the canvas background color
2dc183c8: mergw to main
de16a382: make project available on gh pages
de16a382: add README with link to gh pages and explanation how project is made: claude code web only, save prompts to PROMPTS.md, etc
9e6e681a: Add simple physics loop. All objects like balls should contain x, y coordinates and velocities. Every frame (60 fps), change velocity. There should be gravity so that it takes about 1 second for a ball in (0, 80) to fall to the bottom (0, -100). Wait, is Y coordinate increasing when going up?
da9de8de: Constrain the canvas size so that on mobile (and desktop browser with dev tools open) it should take at most (100% - 10px margin on both sides) of the available with and height
891c1ad9: Add simple collision detection and handling: floor, ceiling reverse y velocity, walls reverse x
891c1ad9: Tapping on canvas creates a ball, r: 10, vx -50 to 50, vy -20 to 40
183d9de8: Make balls a bit translucent so we can see if they overlap
a837e78c: Implement ball to ball collision. Check every ball against every other ball. Form a line between two colliding balls; assume balls have the same mass and displace both of them equally along this line. Also change the velocities of the balls: mirror it along this line by taking a vector projection along the line and then v -= 2 * vProjection.
fed4ca95: Refactor: extract update loop sections to functions: moveObjects, collideWalls, collideObjects, draw. Did I miss something?
b900dda9: Yeah do apply gravity separately
af365b39: On every collision, reduce velocity of colliding object by 10%
6c898f7e: Also make balls different size; size should range from 4 to 15 randomly
5db5a79d: Then, when I keep touching the screen or holding mouse button, you should repeatedly create balls (10 per second). Tapping once should still create just 1 ball. Repetition should start once tap/click has been active for 0.3 seconds
b2b7213d: Make collideWalls cleaner; first do the collision response, save boolean variable collided and if it is true at end, then reduce velocity
68a07dc9: The object creation point should follow mouse/touch when dragging
f6907fbd: Tapping on a ball should explode it. Remove it from the list and add impact velocity to nearby balls.
8543504c: To point (90, -90) add ball, r: 10; one 50 units above it; two at x: 40 and x: 60 and one above them at x: 50, y: 0
4092e852: Move the leftmost balls 30 units down and get rid of the first random ball
46db5620: Sometimes when I have lots of balls, some of them are left hovering on others. Can you help debug that?
